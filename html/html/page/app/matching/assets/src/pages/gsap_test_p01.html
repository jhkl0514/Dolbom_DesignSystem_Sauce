<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>gsap p01</title>
  
    <!-- jquery -->
    <script src="../js/jquery/jquery-3.6.0.min.js"></script>

    <!-- materialize -->
    <script src="../js/materialize.min.js"></script>

    <!-- guide.js -->
    <script src="../js/custom/guide.js"></script>

    <!-- GSAP -->
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>

    <!-- ScrollTrigger Plugin -->
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>    


    <!-- materialize CSS -->
    <link rel="stylesheet" href="../css/materialize.min.css">
    <!-- style.css -->
    <link rel="stylesheet" href="../css/style.css">


<style>

    .box{width: 100px;height: 100px;}
    .box1{background-color: orange; transform-origin: 150% 150%;}
    .box2{background-color: aquamarine;}
    .box3{background-color: cornflowerblue;}

    .box4{background-color: #ed64af;}
    
    .box5{background-color: #cdff44;display: flex;align-items: center;justify-content: center;}

</style>

<script>
// 스크롤화면나오면 동작처리
// $(function(){
//     var hasAnimated = false; // 애니메이션이 이미 실행되었는지 확인하는 플래그

//     function checkScroll() {
//         var scrollAreaTop = $('.scrollArea').offset().top;
//         var windowScrollTop = $(window).scrollTop();
//         var windowHeight = $(window).height();

//         //alert(windowScrollTop);

//         // 화면에 보이면 숫자 애니메이션 실행 (한 번만 실행)
//         if (!hasAnimated && scrollAreaTop <= windowScrollTop + windowHeight) {
//             gsap.to('.box1',
//                 {duration: 2, x: 200, opacity: 0.5, rotate: 270}
//             );
//             gsap.fromTo(".box2",
//                 {x: 0},
//                 {x: 100, duration: 1, ease: "power2.in"}
//             );
//             hasAnimated = true; // 애니메이션 실행 후 플래그를 true로 설정
//         }
//     }

//     $(window).on('scroll', checkScroll); // 스크롤 이벤트 핸들러 추가
//     checkScroll(); // 초기 로드 시 한 번 실행
// });
$(function(){

    // 1
    gsap.to('.box1', {rotate:360, duration:2});
    gsap.fromTo('.box2', {rotate:0},{rotate:360, duration:2});
    gsap.set('.box3', {width:200, height:200});


    // 2
    const tween = gsap.to('.box4', {duration:4, x:600, paused:true, });
    
    $('.btn_play').click(function(){
        tween.play();
    });

    $('.btn_pause').click(function(){
        tween.pause();
    });

    $('.btn_resume').click(function(){
        tween.resume();
    });

    $('.btn_reverse').click(function(){
        tween.reverse();
    });

    $('.btn_restart').click(function(){
        tween.restart();
    });


    // 3
    var tl = gsap.timeline();

    tl.to('.box5',{duration:1, x:200, rotation:180});
    tl.to('.box5',{duration:2, y:100, opacity:0.5});
    tl.to('.box5', {
            duration: 1,
            width:300,height:300,
            ease: "bounce.out",
        });

});



</script>

</head>
<body>
    <main>

        <div style="height:1100px;"></div>

        <h2>1</h2>
        <div class="scrollArea">
            <div class="box box1">box1</div>
            <div class="box box2">box2</div>
            <div class="box box3">box3</div>
        </div>


        
        <h2>2</h2>
        <div class="btnArea">
            <div class="box box4"></div>
            <button class="btn_play">시작</button>
            <button class="btn_pause">정지</button>
            <button class="btn_resume">재개</button>
            <button class="btn_reverse">반전</button>
            <button class="btn_restart">재시작</button>
        </div>

        <h2>3</h2>
        <div class="flex_center">
            <div class="box box5">dfdfd</div>
        </div>
        
        
        <div style="height:500px;"></div>
    </main>
</body>
</html>
